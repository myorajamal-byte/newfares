إرشادات تعديل الإحداثيات والمواضع في عقد الطباعة

الموقع: src/pages/ContractPDFDialog.tsx

1) نصوص الصفحة الأولى (مواضع العناصر على القالب)
- داخل وسم <svg class="overlay-svg" ...> ستجد عناصر <text ...>
- كل عنصر يحتوي الخاصيتين x و y لتحديد الموضع (بالبكسل على مساحة الـ SVG)
- مثال: <text x="1750" y="700" ...> ...
- لتعديل مكان أي نص، غيّر قيم x و y مباشرةً.

2) موضع وحجم جدول الصفحة الثانية (bgc2)
- في قسم CSS داخل htmlContent:
  - .table-area: تتحكم في موضع الجدول فوق الخلفية:
    • top: المسافة من أعلى الصفحة بالملليمتر (mm)
    • left: المسافة الأفقية من اليسار (محسوبة حاليًا بالـ calc)
    • width: عرض مساحة الجدول
  - colgroup داخل <table> يحدد عرض كل عمود (%)
  - .btable tr { height: 13.818mm; } يحدد ارتفاع الصف
- عند تغيير الارتفاع/الموضع، قد تحتاج لتحديث عدد الصفوف لكل صفحة (انظر البند 3).

3) عدد الصفوف لكل صفحة (الترقيم/التجزئة)
- في نفس الملف قبل توليد HTML ستجد ثوابت:
  • START_Y = 63.53 // موضع بداية الجدول بالملليمتر
  • ROW_H   = 13.818 // ارتفاع الصف بالملليمتر
  • ROWS_PER_PAGE = Math.floor((PAGE_H - START_Y) / ROW_H)
- إذا عدّلت top في .table-area أو ارتفاع الصف، حدّث START_Y أو ROW_H ليبقى التقسيم صحيحًا.

4) حدود الصفوف والأعمدة في الجدول
- في CSS:
  • .btable { border-collapse: collapse; border: 0.2mm solid #000; }
  • .btable td { border: 0.2mm solid #000; }
- لتغيير سُمك/لون الحدود، عدّل القيم هنا.

5) محاذاة وخطوط الجدول
- لجعل الخط مماثلًا للصفحة الأولى: تم ضبط font-family إلى 'Doran' في .btable و .btable td
- يمكنك تعديل الحجم عبر font-size في .btable

6) صورة اللوحة داخل الجدول
- في CSS: .c-img img { width: 11mm; height: 11mm; object-fit: contain; }
- لتغيير الحجم أو طريقة القص/الاحتواء، عدّل هذه القيم.

7) رابط الخرائط (إحداثيات GPS إن لزم)
- داخل الدالة norm(...) يتم تكوين mapLink من الحقول:
  • GPS_Coordinates أو (Latitude + Longitude)
- لتغيير مصدر/تنسيق الإحداثيات، عدّل منطق norm ثم mapLink.

ملاحظة: تستخدم القيم بالملليمتر (mm) للطباعة بدقة. عند أي تعديل كبير على المواضع، اختبر الطباعة للتأكد من التطابق مع القالب.
